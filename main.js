(()=>{"use strict";function e(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function t(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function a(e){t(1,arguments);var a=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===a?new Date(e.getTime()):"number"==typeof e||"[object Number]"===a?new Date(e):("string"!=typeof e&&"[object String]"!==a||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function n(e){t(1,arguments);var n=a(e);return n.setHours(0,0,0,0),n}var o=864e5;const s=(e,t="")=>({title:e,description:"",topic:"no topic",dateAdded:(new Date).toString(),dateCompleted:void 0,dateDue:t,markComplete:function(){this.dateCompleted=(new Date).toString()},getDueDate:function(){return this.dateDue},checkStatus:function(e){return"all"==e||!("complete"!=e||!this.dateCompleted)||"active"==e&&!this.dateCompleted},checkTopic:function(e){return"all topics"==e||e==this.topic}}),r=(()=>{let e=[];return(()=>{if(!localStorage.getItem("taskspaceJSON"))return;const t=localStorage.getItem("taskspaceJSON"),a=JSON.parse(t);e=a.map((e=>Object.assign(s("",""),e)))})(),{save:t=>{if(e.some((e=>e.dateAdded==t.dateAdded))){const a=e.findIndex((e=>e.dateAdded==t.dateAdded));e.splice(a,1,t)}else e.push(t);const a=JSON.stringify(e);localStorage.setItem("taskspaceJSON",a),d.updateMasterArray(e)},getMasterArray:()=>e}})(),d=(()=>{let a=[];const s={date:"all dates",status:"active",topic:"all topics"},d=()=>{a=r.getMasterArray().filter((a=>((a,s)=>{const r=function(a,s){t(2,arguments);var r=n(a),d=n(s),c=r.getTime()-e(r),i=d.getTime()-e(d);return Math.round((c-i)/o)}(new Date(s),new Date);return{"all dates":()=>!0,"no due date":()=>""==s,overdue:()=>r<0,today:()=>0==r,tomorrow:()=>1==r,"next seven days":()=>r>=0&&r<=6}[a]()})(s.date,a.getDueDate())&&a.checkStatus(s.status)&&a.checkTopic(s.topic))),c()},c=()=>{a.sort(((e,t)=>e.getDueDate()>t.getDueDate()))};return{changeParameter:(e,t)=>{s[e]=t,d()},getFilteredArray:()=>(d(),a),getTopicOptions:()=>{const e=[];return d(),a.forEach((t=>{e.includes(t.topic)||"no topic"==t.topic||e.push(t.topic)})),e.sort(((e,t)=>e>t)),e.unshift("all topics"),e.push("no topic"),e},newFilter:d,updateMasterArray:function(e){masterArray=e,d()}}})(),c=(()=>{const e=(e,t,a)=>{const n=document.querySelector(".entry-expanded-layout").parentElement;if(n&&(n.removeChild(n.lastElementChild),n==t))return;const o=document.createElement("div");o.classList.add("entry-expanded-layout"),t.append(o)};return{load:()=>{const t=document.querySelector(".display-area");t.replaceChildren(),d.getFilteredArray().forEach((a=>{const n=document.createElement("div");n.classList.add("entry-holder"),((t,a)=>{const n=document.createElement("div");n.classList.add("entry-basic-layout","lowlight");const o=document.createElement("div");o.textContent=t.title;const s=document.createElement("div");s.textContent=t.topic;const r=document.createElement("div");r.textContent="";const d=document.createElement("div");d.classList.add("task-button-holder"),n.append(o,s,r,d),n.addEventListener("click",(()=>{e(t,a,n)})),a.append(n)})(a,n),t.appendChild(n)}))}}})(),i=(()=>{const e=[{type:"date",text:"tasks by due date",options:["all dates","overdue","today","tomorrow","next seven days","no due date"]},{type:"topic",text:"tasks by topic",options:d.getTopicOptions()},{type:"status",text:"tasks by status",options:["active","complete","all"]}];return{load:()=>{const t=document.querySelector(".side-menu");t.replaceChildren(),e.forEach((e=>{const a=document.createElement("span");a.classList.add("side-menu-sublist"),a.textContent=e.text,e.options.forEach((t=>{const n=document.createElement("span");var o,s,r;n.textContent=t,a.addEventListener("click",(()=>{d.changeParameter(e.type,t)})),o=n,s=e.type,r=t,o.addEventListener("dragenter",(e=>{e.target.classList.add("drag-over")})),o.addEventListener("dragleave",(e=>{e.target.classList.remove("drag-over")})),o.addEventListener("dragover",(e=>{e.preventDefault()})),o.addEventListener("drop",(e=>{e.preventDefault(),e.target.classList.remove("drag-over");const t=document.getElementById(e.dataTransfer.getData("text"));t.setAttribute("data-key",s),t.setAttribute("data-value",r)})),a.appendChild(n)})),t.appendChild(a)}))}}})();(()=>{const e=document.querySelector("body"),t=document.createElement("div");t.classList.add("header"),t.textContent="deed.";const a=document.createElement("div");a.classList.add("content-area");const n=document.createElement("div");n.classList.add("footer"),n.textContent="Â© 2022 Heppleton Industries",e.append(t,a,n);const o=document.createElement("div");o.classList.add("side-menu");const s=document.createElement("div");s.classList.add("display-area");const r=document.createElement("div");r.classList.add("right-spacing"),a.append(o,s,r),i.load(),c.load()})()})();